<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Foodstuff: Pizza</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" integrity="sha384-XGjxtQfXaH2tnPFa9x+ruJTuLE3Aa6LhHSWRr1XeTyhezb4abCG4ccI5AkVDxqC+" crossorigin="anonymous">
    </head>
    <body class="d-flex flex-column pt-4 bg-body-tertiary">

        <div class="container container-max-lg">

            <h1 class="mb-0"><b>Pizza</b></h1>
            <h6><a class="link-secondary me-3" href="index.html"><i class="bi bi-arrow-left"></i> back</a><em>Foodstuff Basics</em></h6>
            
            <div class="row">
                <div class="col-12 col-md-4 col-lg-4 col-xl-3">
                    
                    <!-- ingeredient table -->

                    <div class="btn-group mb-3 w-100">
                        <button type="button" class="w-100 btn btn-primary rounded-0" id="btn_portions_minus">-</button>
                        <button type="button" class="w-100 btn btn-primary rounded-0 qs-btn_portions_reload d-none"><i class="bi bi-arrow-clockwise"></i></button>
                        <input type="number" id="input_portions" class="w-100 form-control text-center rounded-0" min="1" style="width: 80px; appearance: textfield;">
                        <button type="button" class="w-100 btn btn-primary rounded-0" id="btn_portions_plus">+</button>
                        <button type="button" class="w-100 btn btn-primary rounded-0 qs-btn_portions_reload d-none"><i class="bi bi-arrow-clockwise"></i></button>
                    </div>

                    <table class="table table-sm table-striped w-100">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col" colspan="3">Dough (per portion / total)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="qs-ingredient">
                                <td>Pizza Flour</td>
                                <td class="text-secondary"><span class="qs-portion">160</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>
                            <tr class="qs-ingredient">
                                <td>Water</td>
                                <td class="text-secondary"><span class="qs-portion">117</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>
                            <tr class="qs-ingredient">
                                <td>Salt</td>
                                <td class="text-secondary"><span class="qs-portion">1.5</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>
                            <tr class="qs-ingredient">
                                <td>Sugar</td>
                                <td class="text-secondary"><span class="qs-portion">4</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>
                            <tr class="qs-ingredient">
                                <td>Dry Yeast</td>
                                <td class="text-secondary"><span class="qs-portion">3.5</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>
                            <tr class="qs-ingredient">
                                <td>Olive Oil</td>
                                <td class="text-secondary"><span class="qs-portion">10</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-sm table-striped w-100">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col" colspan="3">Toppings (per portion / total)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="3">Tomato sauce</td>
                            </tr>
                            <tr>
                                <td colspan="3">Herbs to taste</td>
                            </tr>
                            <tr class="qs-ingredient">
                                <td>Dry Shredded Mozzarella</td>
                                <td class="text-secondary"><span class="qs-portion">110</span><small>g</small></td>
                                <td><span class="qs-total"></span><small>g</small></td>
                            </tr>                            
                            <tr>
                                <td colspan="3">Toppings of choice</td>
                            </tr>
                        </tbody>
                    </table>

                </div>
                <div class="col-12 col-md-8 col-lg-8 col-xl-7 bg-body">
                    
                    <!-- main + steps list -->

                    <div class="d-flex justify-content-start">
                        <div class="card my-2 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>0</b></small>
                            </div>
                        </div>
                        <div class="card my-2 w-100 bg-secondary-subtle border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Most ovens need to be pre-heated appropriately. You should know this for your oven. Common ovens are turned before step 1. Proper pizza ovens are turned on just after step 5.</span>
                                <br>
                                <span>For stone baked thin pizza: top 450°C and bottom 225°C</span>
                                <br>
                                <span>For thick pan pizza: top-and-bottom 325°C <span class="text-secondary">(round pans are fine, <b>DO NOT</b> use square pans)</span></span>
                            </div>
                        </div>
                    </div>
                    <div class="card my-2 bg-info-subtle border border-0">
                        <div class="card-body py-1 px-2">
                            <i class="bi bi-sticky ps-0 pe-1"></i>
                            <span>If you do not have a specialized pizza oven, common advice is to just turn it as hot as it goes. Usually this is somewhere near 250°C. Several years of personal experience lead to me to believe, that although it might not be as crispy, it will never get brown anyway. So a more moderate 220°C is totally enough for a nice soft pizza.</span>
                            <br>
                            <span>For extra brown crust in lower temperature ovens, you can also pre-bake with just the saunce and other hard toppings for about 3 minutes. Then add the cheese and let bake until gold brown.</span>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>1</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Mix all the dry components (flour, salt, sugar, yeast) together in a bowl.</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>2</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Add the water and the oil. Mix until combined and not shiny anymore, i.e. no more loose flour. (Recommended handmixer, hands work too.)</span>
                                <br>
                                <span>Continue mixing until the dough becomes elastic. (5-7 with mixer or 10-15 with hands)</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>3</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Separate the dough into equal portion by weight. Use lots of flour dust where necessary to prevents the dough from stricking too much.</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>4</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Roll every portion into a tight dough ball. Just enough to have a smooth outer layer with slight surface tension. <b>Do not overwork the dough.</b> This does not need to be perfect, good enough will work just fine.</span>
                            </div>
                        </div>
                    </div>
                    <div class="card my-2 bg-warning-subtle border border-0">
                        <div class="card-body py-1 px-2">
                            <i class="bi bi-info-circle-fill ps-0 pe-1"></i>
                            <span>Contrary to common advice, it is <i>not</i> necessary to make the dough balls super tight and taught.</span>
                            <br>
                            <span>Working the dough too much will cause it to break apart, leading to much more difficult handling and a less cohesive spread later on. The point of this advice is to form some surface tension. The outmost layer of dough should be smooth, but that is all there is too it. Working the dough more, after it is smooth, will very quickly lead to it breaking apart.</span>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>5</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Place the dough balls in a dough box. Let it rise for about 23 minutes. With the doughbox this depends much less on room temperature, but we are aiming for just about doubled in size.</span>
                            </div>
                        </div>
                    </div>
                    <div class="card my-2 bg-info-subtle border border-0">
                        <div class="card-body py-1 px-2">
                            <i class="bi bi-sticky ps-0 pe-1"></i>
                            <span>If you do not have a dough box for rising: <b><a class="link-body-emphasis" target="_blank" rel="noopener noreferrer" href="https://www.amazon.de/dp/B072P78PVP/"><i class="bi-box-arrow-up-right small mx-1"></i>get one (link)</a></b>. Nevertheless, place the dough balls in oiled containers or bowls, making sure to coat the entire ball in oil. The rising time will be highly dependent on room temperature and take anything between 20 to 60 minutes.</span>
                        </div>
                    </div>
                    <div class="card my-2 bg-danger-subtle border border-0">
                        <div class="card-body py-1 px-2">
                            <i class="bi bi-exclamation-triangle-fill ps-0 pe-1"></i>
                            <span>It is tempting to let the dough rise more than double, but this will actually yield a much worse result. You can find that out yourself though, if you want to try.</span>
                        </div>
                    </div>

                    <hr>
                    
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>6</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Spread out and prepare the dough in pizza shape. Add sauce. Add salt and seasoning. Add hard toppings. Add cheese on top. (Order matters so nothing gets burnt.)</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start">
                        <div class="card my-1 border border-0" style="width: 1.5rem;">
                            <div class="card-body px-0 py-1">
                                <small><b>7</b></small>
                            </div>
                        </div>
                        <div class="card my-1 w-100 border border-0">
                            <div class="card-body py-1 px-2">
                                <span>Stone baked thin pizza bakes for between 80 to 140 seconds, depending on taste.</span>
                                <br>
                                <span>Thick pan pizza bakes for about 4-6 minutes.</span>
                                <br>
                                <span>If you have a normal oven, then a normal stone baked pizza will take about 5 minutes. This highly variable though, so just look for whatever crispiness you want.</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- TODO picture gallery -->

        <!-- TODO keep a changelog of past modifications to the recipe -->

        <footer class="mt-auto">
            <div class="mt-4 px-3 bg-body-secondary">
                <div class="container container-max-md">
                    <div class="row py-3">
                        <div class="col-12 text-center">
                            <a class="link-secondary" href="https://github.com/RememberOfLife/foodstuff">Open-Source</a>
                        </div>
                    </div>
                </div>
                <hr class="my-0">
                <div class="py-3">
                    <div class="container text-center">
                        <span class="me-3">Copyright &copy; 2025 Urs Kober</span><a class="link-secondary text-small-caps" href="https://urskober.com/imprint/standalone">impressum</a>
                    </div>
                </div>
            </div>
        </footer>
        
        <script>
            let portions = 2;
            const input_portions = document.getElementById("input_portions");
            const btn_minus = document.getElementById("btn_portions_minus");
            const btn_plus = document.getElementById("btn_portions_plus");
            const btns_reload = document.getElementsByClassName("qs-btn_portions_reload");
            function recalculate_ingredient_totals() {
                input_portions.value = portions;
                const ingredients = document.querySelectorAll(".qs-ingredient");
                for (let i = 0; i < ingredients.length; i++) {
                    const row = ingredients[i];
                    const portion_elem = row.querySelector(".qs-portion");
                    const total_elem = row.querySelector(".qs-total");
                    if (portion_elem && total_elem) {
                        const portion_size = parseFloat(portion_elem.textContent);
                        const total_size = portion_size * portions;
                        total_elem.textContent = total_size % 1 === 0 
                            ? total_size.toFixed(0)
                            : total_size.toFixed(1);
                    }
                }
            }
            btn_minus.addEventListener("click", () => {
                if (portions > 1) {
                    portions -= 1;
                    recalculate_ingredient_totals();
                }
            });
            btn_plus.addEventListener("click", () => {
                portions += 1;
                recalculate_ingredient_totals();
            });
            input_portions.addEventListener("focus", () => {
                btn_minus.classList.add("d-none");
                btn_plus.classList.add("d-none");
                for (let btn of btns_reload) {
                    btn.classList.remove("d-none");
                }
            });
            function resetUI() {
                btn_minus.classList.remove("d-none");
                btn_plus.classList.remove("d-none");
                for (let btn of btns_reload) {
                    btn.classList.add("d-none");
                }
            }
            input_portions.addEventListener('change', function() {
                var new_portions = parseFloat(this.value, 10);
                if (new_portions < 0.1 || isNaN(new_portions)) {
                    new_portions = 1;
                }
                portions = new_portions;
                recalculate_ingredient_totals();
                resetUI();
            });
            input_portions.addEventListener('keypress', function(event) {
                if (event.key === "Enter") {
                    this.blur();
                    resetUI();
                }
            });
            for (let btn of btns_reload) {
                btn.addEventListener("click", () => {
                    recalculate_ingredient_totals();
                    resetUI();
                });
            }
            recalculate_ingredient_totals();
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script>
            const tooltipList = [...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
        </script>
    </body>
</html>