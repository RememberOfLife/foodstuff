<html>
    <head>

        <style type="text/css" media="screen">
            table {
                border-collapse: collapse;
            }
            table td,
            table th {
                border: 1px solid black; 
            }
            table tr:first-child td,
            table tr:first-child th {
                border-top: 0;
            }
            table tr td:first-child,
            table tr th:first-child {
                border-left: 0;
            }
            table tr:last-child td,
            table tr:last-child th {
                border-bottom: 0;
            }
            table tr td:last-child,
            table tr th:last-child {
                border-right: 0;
            }
        </style>
        <script>
            recipe = {
                "flour": 150,
                "water": 95,
                "salt": 1.5,
                "sugar": 4.5,
                "yeast": 0.5, // 1 pack?
                "oil": 6, // 1 pack?
            };
            function isInt(value) {
                return !isNaN(value) && parseInt(Number(value)) == value && !isNaN(parseInt(value, 10));
            }
            function calc_recipe() {
                portions = window.location.hash.substr(1);
                if (!isInt(portions)) {
                    portions = 2;
                }
                document.querySelectorAll(".portions").forEach(function (elem, index) {
                    elem.textContent = portions;
                });
                document.getElementById("c_flour").textContent = recipe["flour"] * portions;
                document.getElementById("c_water").textContent = recipe["water"] * portions;
                document.getElementById("c_salt").textContent = recipe["salt"] * portions;
                document.getElementById("c_sugar").textContent = recipe["sugar"] * portions;
                document.getElementById("c_yeast").textContent = recipe["yeast"] * portions;
                document.getElementById("c_oil").textContent = recipe["oil"] * portions; //TODO this doesnt have to scale as high, 30 is fine for 4p
            };
        </script>
    </head>
    <body onload="calc_recipe()">
        <h1>pizza recipe</h1>
        <h4><span class="portions">2</span> portions</h4>
        <p>Add a fragment containing the number of portions you want to the url to calculate the component amounts. (E.g. "#4".) Then reload the page to apply.</p>
        <table>
            <tr>
                <th>component</th>
                <th>amount</th>
            </tr>
            <tr>
                <td>(pizza) flour</td>
                <td><span id="c_flour"></span>g</td>
            </tr>
            <tr>
                <td>water</td>
                <td><span id="c_water"></span>g</td>
            </tr>
            <tr>
                <td>salt</td>
                <td><span id="c_salt"></span>g</td>
            </tr>
            <tr>
                <td>sugar</td>
                <td><span id="c_sugar"></span>g</td>
            </tr>
            <tr>
                <td>dry yeast</td>
                <td><span id="c_yeast"></span>pack(s) @ 7g each</td>
            </tr>
            <tr>
                <td>olive oil</td>
                <td><span id="c_oil"></span>g</td>
            </tr>
        </table>
        <ol>
            <h4>preparation</h4>
            <li>Mix all the dry components (flour, salt, sugar, yeast) together in a bowl.</li>
            <li>Add the water. Mix until combined, i.e. no more loose flour. (Recommended handmixer, hands work too.)</li>
            <li>Add the oil. Mix until combined smoothly, i.e. no more visible shiny oil.</li>
            <li>Now mix for at least 10 more minutes by hand. Or continue to use the handmixer, for about 5 minutes. In general the result will just get better the longer you mix, do not overdo it however.</li>
            <li>Split the dough into <span class="portions">2</span> equal portions by weight. Place each in a pre-oiled bowl. Make sure to swirl the dough around in the bowl so it too is oiled from all sides.</li>
        </ol>
        <p>Let the dough rise, for about 20-35 minutes (depending on room temperature), or until just about doubled in size.</p>
        <p>
            <h4>baking</h4>
            For extra brown crust in an oven that does not get very hot, pre-bake each spread out portion with just the sauce and any other hard ingredients for about 3 minutes. Then add the chesse and let bake until gold brown.
        </p>
    </body>
</html>

